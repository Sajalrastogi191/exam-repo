{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// Add request interceptor to add auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Auth services\nexport const authService = {\n  register: userData => api.post(\"/auth/register\", userData),\n  login: userData => api.post(\"/auth/login\", userData),\n  getProfile: () => api.get(\"/auth/me\"),\n  updateProfile: userData => api.put(\"/auth/profile\", userData),\n  updatePassword: passwordData => api.put(\"/auth/password\", passwordData)\n};\n\n// Paper services\nexport const paperService = {\n  getPapers: filters => api.get(\"/papers\", {\n    params: filters\n  }),\n  getPaperById: id => api.get(`/papers/${id}`),\n  uploadPaper: paperData => {\n    const formData = new FormData();\n    for (const key in paperData) {\n      formData.append(key, paperData[key]);\n    }\n    return api.post(\"/papers\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  },\n  getUserPapers: () => api.get(\"/papers/user/papers\"),\n  getFilterOptions: () => api.get(\"/papers/filter-options\"),\n  downloadPaper: id => window.open(`${API_URL}/papers/${id}/download`, \"_blank\")\n};\n\n// Solution services\nexport const solutionService = {\n  getSolutions: paperId => api.get(`/solutions/paper/${paperId}`),\n  addSolution: (paperId, content) => api.post(`/solutions/paper/${paperId}`, {\n    content\n  }),\n  upvoteSolution: id => api.put(`/solutions/${id}/upvote`),\n  downvoteSolution: id => api.put(`/solutions/${id}/downvote`),\n  getUserSolutions: () => api.get(\"/solutions/user/solutions\")\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","authService","register","userData","post","login","getProfile","get","updateProfile","put","updatePassword","passwordData","paperService","getPapers","filters","params","getPaperById","id","uploadPaper","paperData","formData","FormData","key","append","getUserPapers","getFilterOptions","downloadPaper","window","open","solutionService","getSolutions","paperId","addSolution","content","upvoteSolution","downvoteSolution","getUserSolutions"],"sources":["D:/doc/coding/mern project exam/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\"\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\n// Add request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => Promise.reject(error),\n)\n\n// Auth services\nexport const authService = {\n  register: (userData) => api.post(\"/auth/register\", userData),\n  login: (userData) => api.post(\"/auth/login\", userData),\n  getProfile: () => api.get(\"/auth/me\"),\n  updateProfile: (userData) => api.put(\"/auth/profile\", userData),\n  updatePassword: (passwordData) => api.put(\"/auth/password\", passwordData),\n}\n\n// Paper services\nexport const paperService = {\n  getPapers: (filters) => api.get(\"/papers\", { params: filters }),\n  getPaperById: (id) => api.get(`/papers/${id}`),\n  uploadPaper: (paperData) => {\n    const formData = new FormData()\n    for (const key in paperData) {\n      formData.append(key, paperData[key])\n    }\n    return api.post(\"/papers\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    })\n  },\n  getUserPapers: () => api.get(\"/papers/user/papers\"),\n  getFilterOptions: () => api.get(\"/papers/filter-options\"),\n  downloadPaper: (id) => window.open(`${API_URL}/papers/${id}/download`, \"_blank\"),\n}\n\n// Solution services\nexport const solutionService = {\n  getSolutions: (paperId) => api.get(`/solutions/paper/${paperId}`),\n  addSolution: (paperId, content) => api.post(`/solutions/paper/${paperId}`, { content }),\n  upvoteSolution: (id) => api.put(`/solutions/${id}/upvote`),\n  downvoteSolution: (id) => api.put(`/solutions/${id}/downvote`),\n  getUserSolutions: () => api.get(\"/solutions/user/solutions\"),\n}\n\nexport default api\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}